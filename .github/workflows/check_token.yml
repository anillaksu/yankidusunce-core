name: ğŸ” Telegram Bot Token Health Check

on:
  push:
    branches:
      - main  # Ana dalda her push'ta Ã§alÄ±ÅŸÄ±r
  workflow_dispatch:  # Ä°stenirse manuel olarak da Ã§alÄ±ÅŸtÄ±rÄ±labilir

jobs:
  check-token-health:
    runs-on: ubuntu-latest  # GitHub'un saÄŸladÄ±ÄŸÄ± Ubuntu ortamÄ±

    steps:
      - name: ğŸ§± Repo'yu klonla
        uses: actions/checkout@v3

      - name: ğŸ Python kurulumunu yap
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: ğŸ“¦ Gereken baÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kle
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: âœ… Bot SaÄŸlÄ±k KontrolÃ¼nÃ¼ BaÅŸlat
        env:
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        run: |
          echo ">>> Bot saÄŸlÄ±k kontrolÃ¼ baÅŸlatÄ±lÄ±yor..."
          python scripts/bot_health_check.py
